@import "../base/variables";
@import "../base/functions";
@import "../base/mixins";


.section-industries-served,
.acf-block-preview .section-industries-served {
    //padding: rem(120) 0;

    &.section-top-padding--none {
        padding-top: rem(20);
    }

    &.section-bottom-padding--none {
        padding-bottom: rem(20);
    }

    &.section-top-padding--small {
        padding-top: $padding-small;
    }

    &.section-bottom-padding--small{
        padding-bottom: $padding-small;
    }

    &.section-top-padding--default {
        padding-top: $padding-default;
    }

    &.section-bottom-padding--default {
        padding-bottom: $padding-default;
    }

    &.section-top-padding--large {
        padding-top: $padding-large;
    }

    &.section-bottom-padding--large {
        padding-bottom: $padding-large;
    }

    @media (max-width: $breakpoint-xl - 0.5) {
        //padding: rem(60) 0;

        &.section-top-padding--default {
            padding-top: $padding-default-tablet;
        }

        &.section-bottom-padding--default {
            padding-bottom: $padding-default-tablet;
        }

        &.section-top-padding--small {
            padding-top: $padding-small-tablet;
        }

        &.section-bottom-padding--small{
            padding-bottom: $padding-small-tablet;
        }

        &.section-top-padding--large {
            padding-top: $padding-large-tablet;
        }

        &.section-bottom-padding--large {
            padding-bottom: $padding-large-tablet;
        }
    }

    &.section-industries-served--style-v1 {
        .section-industries-served {
            &__bg {
                @media (max-width: $breakpoint-sm - 0.5) {
                    display: none;
                }
            }

            &__content {
                position: relative;
                padding: rem(45) 0;

                &::before {
                    content: '';
                    position: absolute;
                    z-index: -1;
                    top: 0;
                    left: 0;
                    right: 58%;
                    left: -50vw;
                    bottom: 0;
                    transition: background-color $transition-default;
                }

                &::before {
                    .theme-light & {
                        background-color: $lt-gray-main;
                    }

                    .theme-dark & {
                        background-color: $dt-gray-dark;
                    }
                }

                @media (max-width: $breakpoint-xl - 0.5) {
                    padding-top: 0;
                    padding-bottom: 0;

                    &::before {
                        top: rem(-60);
                        right: 62.5%;
                        bottom: rem(36);
                    }
                }

                @media (max-width: $breakpoint-md - 0.5) {
                    &::before {
                        right: 0;
                        bottom: auto;
                        height: rem(390);
                    }
                }
            }

            &__main {
                margin: 0 rem(-10);
                display: flex;
                flex-wrap: wrap;
                align-items: center;
            }

            &__nav {
                padding: 0 rem(10);
                flex: 0 0 100%;
                max-width: rem(280);

                .nav-item {
                    & + .nav-item {
                        margin-top: rem(4);
                    }
                }

                .button-nav {
                    position: relative;
                    display: inline-flex;
                    justify-content: center;
                    align-items: center;
                    padding: rem(15) rem(30);
                    width: 100%;
                    min-height: rem(56);
                    border-radius: 0;
                    cursor: pointer;
                    outline: none;
                    border: 1px solid;
                    @include font-sfpro(500);
                    font-size: rem(16);
                    line-height: 1;
                    text-align: center;
                    text-decoration: none;
                    //text-transform: capitalize;
                    background-color: rgba(0, 0, 0, 0);
                    box-shadow: none;

                    span {
                        padding-top: rem(4);
                        padding-bottom: rem(4);
                        flex: 0 0 auto;
                        max-width: 100%;
                        white-space: nowrap;
                        text-overflow: ellipsis;
                        overflow: hidden;
                    }

                    .theme-light & {
                        color: rgba(var(--color-black-RGB), .8);
                        border-color: rgba(var(--color-black-RGB), .8);
                    }

                    .theme-dark & {
                        color: rgba(var(--color-white-RGB), .8);
                        border-color: rgba(var(--color-white-RGB), .8);
                    }

                    &:hover,
                    &:focus {
                        color: var(--color-accent-1);

                        .theme-light & {
                            border-color: var(--color-black);
                            background-color: var(--color-black);
                        }

                        .theme-dark & {
                            border-color: var(--color-white);
                            background-color: var(--color-white);
                        }
                    }

                    &.active {
                        color: $white !important;
                        border-color: var(--color-accent-1) !important;
                        background-color: var(--color-accent-1) !important;
                    }
                }
            }

            &__tabs {
                padding: 0 rem(10);
                flex: 0 0 100%;
                max-width: calc(100% - #{rem(280)});

                .tab-content {
                    transition: background-color $transition-default;

                    .theme-light & {
                        background-color: var(--color-white);
                    }

                    .theme-dark & {
                        background-color: var(--color-black);
                    }
                }
            }

            @media (max-width: $breakpoint-xl - 0.5) {
                &__main {
                    margin: 0;
                    display: block;
                }

                &__nav,
                &__tabs {
                    padding: 0;
                    flex: 0 0 auto;
                    max-width: initial;
                }

                &__nav {
                    margin-left: calc(((var(--vw, 1vw) * 100) - #{rem(980)}) / -2);
                    margin-right: calc(((var(--vw, 1vw) * 100) - #{rem(980)}) / -2);
                    height: rem(38);
                    overflow: hidden;

                    .nav-list {
                        margin-bottom: rem(-20);
                        padding-bottom: rem(20);
                        padding-left: calc(((var(--vw, 1vw) * 100) - #{rem(980)}) / 2);
                        padding-right: 0;
                        display: flex;
                        line-height: 0;
                        overflow-x: auto;
                        overflow-y: hidden;
                        -ms-overflow-style: none;
                        scrollbar-width: none;

                        &::-webkit-scrollbar {
                            width: 0;
                        }
                    }

                    .nav-item {
                        flex: 0 0 auto;

                        & + .nav-item {
                            margin-top: 0;
                            margin-left: rem(12);
                        }

                        &:last-child {
                            padding-right: calc(((var(--vw, 1vw) * 100) - #{rem(980)}) / 2);
                        }
                    }

                    .button-nav {
                        padding: rem(5) rem(19);
                        min-height: rem(36);
                        max-width: rem(300);
                    }
                }

                &__tabs {
                    padding-top: rem(28);
                }
            }

            @media (max-width: $breakpoint-lg - 0.5) {
                &__nav {
                    margin-left: calc(((var(--vw, 1vw) * 100) - #{rem(688)}) / -2);
                    margin-right: calc(((var(--vw, 1vw) * 100) - #{rem(688)}) / -2);

                    .nav-list {
                        padding-left: calc(((var(--vw, 1vw) * 100) - #{rem(688)}) / 2);
                    }

                    .nav-item {
                        &:last-child {
                            padding-right: calc(((var(--vw, 1vw) * 100) - #{rem(688)}) / 2);
                        }
                    }
                }
            }

            @media (max-width: $breakpoint-md - 0.5) {
                &__nav {
                    margin-left: calc(((var(--vw, 1vw) * 100) - #{rem(520)}) / -2);
                    margin-right: calc(((var(--vw, 1vw) * 100) - #{rem(520)}) / -2);

                    .nav-list {
                        padding-left: calc(((var(--vw, 1vw) * 100) - #{rem(520)}) / 2);
                    }

                    .nav-item {
                        &:last-child {
                            padding-right: calc(((var(--vw, 1vw) * 100) - #{rem(520)}) / 2);
                        }
                    }
                }
            }

            @media (max-width: $breakpoint-sm - 0.5) {
                &__nav {
                    margin-left: rem(-20);
                    margin-right: rem(-20);

                    .nav-list {
                        padding-left: rem(20);
                    }

                    .nav-item {
                        &:last-child {
                            padding-right: rem(20);
                        }
                    }
                }
            }
        }

        .industries-card {
            position: relative;
            display: flex;
            flex-wrap: wrap;
			transition: background-color $transition-default;

			.theme-light & {
				background-color: $lt-gray-main;
			}

			.theme-dark & {
				background-color: $dt-gray-dark;
			}

			@media (max-width: $breakpoint-xl - 0.5) {
				.theme-light & {
					background-color: transparent;
				}
	
				.theme-dark & {
					background-color: transparent;
				}
			}

            &__img {
                position: relative;
                flex: 0 0 100%;
                max-width: 40%;
                height: rem(720);

                @media (max-width: $breakpoint-xxl - 0.5) {
                    height: rem(660);
                }

                @media (max-width: $breakpoint-xxm - 0.5) {
                    height: rem(520);
                }

                @media (max-width: $breakpoint-xl - 0.5) {
                    max-width: rem(334);
                    height: rem(432);
                }

                @media (max-width: $breakpoint-md - 0.5) {
                    max-width: 100%;
                    height: rem(328);
                }
            }

            &__content {
                padding-top: rem(30);
                padding-bottom: rem(30);
                padding-left: rem(60);
                padding-right: rem(80);
                flex: 0 0 100%;
                max-width: 60%;
                align-self: center;

                @media (max-width: $breakpoint-xl - 0.5) {
                    padding-top: 0;
                    padding-bottom: 0;
                    padding-left: rem(20);
                    padding-right: rem(20);
                    max-width: calc(100% - #{rem(334)});
                }

                @media (max-width: $breakpoint-md - 0.5) {
                    position: relative;
                    padding-top: rem(30);
                    padding-left: 0;
                    padding-right: 0;
                    max-width: 100%;

                    &::before {
                        content: '';
                        position: absolute;
                        z-index: -1;
                        top: rem(-65);
                        bottom: rem(-30);
                        right: rem(-20);
                        left: rem(-20);
                        transition: background-color $transition-default;

                        .theme-light & {
                            background-color: var(--color-white);
                        }

                        .theme-dark & {
                            background-color: var(--color-black);
                        }
                    }
                }
            }

            &__title {
                max-width: rem(616);

                @media (max-width: $breakpoint-lg - 0.5) {
                    max-width: rem(330);
                }

                @media (max-width: $breakpoint-md - 0.5) {
                    max-width: 100%;
                }

                &>* {
                    margin-top: rem(12);
                    // padding-bottom: rem(8);
                    margin-bottom: rem(32);
                    // max-height: rem(168);

                    @media (max-width: $breakpoint-xxl - 0.5) {
                        // padding-bottom: rem(6);
                        margin-bottom: rem(34);
                        // max-height: 16.4rem;
                    }

                    @media (max-width: $breakpoint-xxm - 0.5) {
                        // max-height: 12.6rem;
                        margin-bottom: rem(24);
                    }

                    @media (max-width: $breakpoint-xl - 0.5) {
                        // padding-bottom: rem(4);
                        margin-bottom: rem(16);
                        // max-height: rem(86);
                    }

                    @media (max-width: $breakpoint-md - 0.5) {
                        // max-height: rem(68);
                    }
                }
            }

            &__description {
                -webkit-line-clamp: 6;
                -webkit-box-orient: vertical;
                text-overflow: ellipsis;
                display: -webkit-box;
                max-height: rem(162);
                overflow: hidden;
                line-height: 1.5;
                -moz-transition: color $transition-default;
                transition: color $transition-default;

                .theme-light & {
                    color: rgba(var(--color-black-RGB), .6);
                }

                .theme-dark & {
                    color: rgba(var(--color-white-RGB), .6);
                }

                /*@media (max-width: $breakpoint-xl - 0.5) {
                    -webkit-line-clamp: 12;
                    font-size: rem(16);
                    max-height: rem(288);
                }*/

                @media (max-width: $breakpoint-md - 0.5) {
                    -webkit-line-clamp: 13;
                    max-height: rem(351);
                }
            }

            &__button-wrapper {
                margin-top: rem(40);

                @media (max-width: $breakpoint-xl - 0.5) {
                    margin-top: rem(30);
                }

                @media (max-width: $breakpoint-md - 0.5) {
                    margin-top: rem(20);
                }
            }
        }
    }

    &.section-industries-served--style-v2 {
        .section-industries-served {
            &__title {
                margin-bottom: rem(60);
                text-align: center;

                @media (max-width: $breakpoint-xl - 0.5) {
                    margin-bottom: rem(40);
                }
    
                @media (max-width: $breakpoint-md - 0.5) {
                    margin-bottom: rem(28);
                }
            }

            &__industries-container{
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                margin: rem(-2.5);

                .col-12 {
                    position: relative;
                    padding: rem(2.5);

                    &:hover {
                        z-index: 6;
                    }
                }

                @media (max-width: $breakpoint-xl - 0.5) {
                    margin: rem(-4);

                    .col-12 {
                        padding: rem(4);
                    }
                }
            }
        }

        .industries-card {
            flex: 0 0 auto;
            position: relative;
            //margin: rem(2.5);
            color: $white;
            display: block;
            //width: rem(406);
            height: 100%;
            min-height: rem(320);
            //overflow: hidden;
            transition: box-shadow $transition-default;

            @media (max-width: $breakpoint-xxl - 0.5) {
                min-height: rem(280);
            }

            @media (max-width: $breakpoint-xl - 0.5) {
                //margin: rem(4);
                //width: rem(340);
                min-height: rem(208);
            }

            @media (max-width: $breakpoint-md - 0.5) {
                //width: rem(320);
            }
        
            &::before {
                content: '';
                position: absolute;
                left: 0;
                right: 0;
                z-index: 1;
                bottom: 0;
                height: 100%;
                max-height: 0;
                background-color: rgba(var(--color-accent-2-RGB), 1);
                transition: max-height $transition-default $transition-delay-default;
                overflow: hidden;
            }
        
            &::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                z-index: 1;
                height: rem(2);
                background-color: var(--color-accent-1);
                box-shadow: 0 0 rem(10) var(--color-accent-1);
                transition: opacity $transition-default $transition-delay-default;
            }

            &__main-content {
                position: relative;
                display: flex;
                padding: rem(90) rem(32) rem(32);
                height: 100%;
                flex-direction: column;
                align-items: center;
                transition: background-color $transition-default;

                .theme-light & {
                    background-color: $lt-gray-main;
                }

                .theme-dark & {
                    background-color: $dt-gray-medium;
                }

                @media (max-width: $breakpoint-xxl - 0.5) {
                    padding: rem(64) rem(24) rem(24);
                }

                @media (max-width: $breakpoint-xl - 0.5) {
                    padding: rem(48) rem(24) rem(24);
                }
            }
        
            &__logo {
                flex: 0 0 auto;
                width: rem(100);
                height: rem(100);
                transition: color $transition-default, background-color $transition-default;
        
                @media (max-width: $breakpoint-xl - 0.5) {
                    width: rem(80);
                    height: rem(80);
                }
    
                .theme-light & {
                    color: rgba(var(--color-black-RGB), 0.5);
                }
    
                .theme-dark & {
                    color: rgba(var(--color-white-RGB), 0.5);

                }

                svg {
                    width: 100%;
                    height: 100%;
                }
            }
        
            &__title {
                &--main {
                    flex: 0 0 auto;
                    position: relative;
                    margin-top: rem(30);
                    transition: color $transition-default;
                    text-align: center;

                    & > * {
                        margin-bottom: rem(-2);
                        padding-bottom: rem(2);
                        display: -webkit-box;
                        -webkit-line-clamp: 3;
                        -webkit-box-orient: vertical;
                        overflow: hidden;
                        max-height: rem(74);
                    }
    
                    .theme-light & {
                        color: rgba(var(--color-black-RGB), 0.5);
                    }
            
                    .theme-dark & {
                        color: rgba(var(--color-white-RGB), 0.5);
                    }

                    @media (max-width: $breakpoint-xl - 0.5) {
                        margin-top: rem(16);
                    }
                }

                &--full-title {
                    & > * {
                        margin-bottom: rem(-2);
                        padding-bottom: rem(2);
                        text-overflow: ellipsis;
                        white-space: nowrap;
                        overflow: hidden;
                    }
                }
            }
        
            &__full {
                position: absolute;
                left: 0;
                right: 0;
                bottom: 0;
                z-index: 2;
                height: 100%;
                opacity: 0;
                visibility: hidden;
                color: $white;
                transition: opacity $transition-default, visibility $transition-default;
                flex: 0 0 auto;
        
                &-content {
                    position: relative;
				    padding: rem(32) rem(32) rem(20);
                    max-height: calc(100% - #{rem(95)});

                  @media (max-width: $breakpoint-xl - 0.5) {
                    padding: rem(24) rem(24) rem(20);
                    max-height: calc(100% - #{rem(65)});
                  }
				}
		
				&-body {
					padding: 0;
					height: 100%;
                    display: flex;
                    flex-direction: column;
				}
            }
        
            &__description {
                margin-top: rem(16);
                display: -webkit-box;
                -webkit-line-clamp: 6;
                -webkit-box-orient: vertical;
                overflow: hidden;
                line-height: 1.4;
                font-size: rem(16);
                max-height: rem(135);
                color: rgba(255, 255, 255, .6);

                @media (max-width: $breakpoint-xxl - 0.5) {
                    -webkit-line-clamp: 4;
                    max-height: rem(90);
                }
        
                @media (max-width: $breakpoint-xl - 0.5) {
                    margin-top: rem(12);
                    -webkit-line-clamp: 3;
                    max-height: rem(67);
                }
            }
        
            &__button-wrapper {
                margin-top: auto;
                padding: 0 rem(32) rem(32);
                flex: 0 0 auto;
                width: 100%;

                .button {
                    width: 100%;
                }

                @media (max-width: $breakpoint-xl - 0.5) {
                    padding: 0 rem(24) rem(20);
                }
            }
        
            &:hover,
            &:focus {                
                box-shadow: 0 0 5rem rgba(var(--color-accent-1-RGB), 0.7);

                &::before {
                    max-height: 100%;
                    transition: max-height $transition-default;
                }
        
                &::after {
                    opacity: 0.4;
                    transition: opacity $transition-default;
                }
        
                .industries-card {
                    &__full {
                        opacity: 1;
                        visibility: visible;
                        transition: opacity $transition-default $transition-delay-default, visibility $transition-default $transition-delay-default;
                    }
        
                    &__title {
                        &--main {
                            opacity: 0;
                            transition: opacity $transition-default;
                        }
                    }
                }
            }
        }
    }    
}